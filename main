#define _CRT_SECURE_NO_WARNINGS
#include <conio.h>
#include <stdio.h>

struct ListNode
{
	ListNode *next;
	char e;
};



ListNode *input(FILE *in)
{
	ListNode *head = new ListNode;
	ListNode *r = head;
	while (!feof(in))
	{
		r->next = new ListNode;
		r = r->next;
		fscanf_s(in, "%c", &r->e);
		r->next = NULL;
	}
	return head;
}

void output(ListNode *head, FILE *out)
{
	ListNode *r = head->next;
	while (r)
	{
		fprintf_s(out, "%c", r->e);
		r = r->next;
	}
}

ListNode *reverse(ListNode *head)
{
	if (!head) return NULL;

	ListNode *curr = head, *next, *prev = NULL;

	while (curr != NULL)
	{
		next = curr->next;
		curr->next = prev;
		prev = curr;
		curr = next;
	}
	return prev;
}


void del(ListNode *prev) {
	if (prev == NULL || prev->next == NULL) return;
	ListNode *del = prev->next;
	prev->next = prev->next->next;
	delete del;
}

int main()
{
	FILE *in, *out;
	ListNode *head,*curr;

	in = fopen("input.txt", "r");
	head = input(in);
	fclose(in);

	if (head->next == NULL || head->next->next == NULL)
		return 0;
	head = reverse(head);
	curr = head->next;
	while (curr != NULL)
	{
		char s = curr->e;
		ListNode * p = curr;
		while (p != NULL)
		{
			while (p->next != NULL && p->next->e == s)
				del(p);

			p = p->next;
		}
		curr = curr->next;
	}
	head = reverse(head);

	out = fopen("output.txt", "w");
	output(head, out);
	fclose(out);

	return 0;
}
